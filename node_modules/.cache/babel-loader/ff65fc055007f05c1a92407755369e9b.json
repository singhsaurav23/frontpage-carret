{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DELL/Desktop/carret/profile/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/DELL/Desktop/carret/profile/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/DELL/Desktop/carret/profile/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SignInForm(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),submitt=_useState6[0],setSubmitt=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),otp=_useState8[0],setOTP=_useState8[1];// const [token, setToken] = useState({});\nfunction handleEmail(e){setEmail(e.target.value);}function handlePassword(e){setPassword(e.target.value);}function handleOTP(e){setOTP(e.target.value);}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var obj,res,dat;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setSubmitt(true);obj={emailId:email,pass:password};// console.log(obj);\n_context.next=5;return fetch(\"api/auth/email\",{method:\"POST\",body:JSON.stringify(obj),headers:{\"Content-Type\":\"application/json\"}});case 5:res=_context.sent;_context.next=8;return res.json();case 8:dat=_context.sent;console.log(dat);case 10:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}function otpClickHandler(){return _otpClickHandler.apply(this,arguments);}function _otpClickHandler(){_otpClickHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var objec;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:objec={emailId:email,password:password,oTp:otp};// console.log(objec);\n_context2.next=3;return fetch(\"api/auth/login\",{method:\"POST\",body:JSON.stringify(objec),headers:{\"Content-Type\":\"application/json\"}});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _otpClickHandler.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"FormCenter\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"FormFields\",children:[!submitt&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"FormField\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"FormField__Label\",htmlFor:\"email\",children:\"E-Mail Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",className:\"FormField__Input\",placeholder:\"Enter your email\",name:\"email\",value:email,onChange:handleEmail})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"FormField\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"FormField__Label\",htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"FormField__Input\",placeholder:\"Enter your password\",name:\"password\",value:password,onChange:handlePassword})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"FormField\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"FormField__Button mr-20\",onClick:handleSubmit,children:\"Sign In\"}),\" \",/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"FormField__Link\",children:\"Create an account\"})]})]}),submitt&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"FormField\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"FormField__Label\",htmlFor:\"code\",children:\"Enter the OTP\"}),/*#__PURE__*/_jsx(\"input\",{type:\"phone\",id:\"otp\",className:\"FormField__Input\",placeholder:\"Enter OTP\",name:\"otp\",value:otp,onChange:handleOTP,required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"FormField\",children:/*#__PURE__*/_jsx(\"button\",{className:\"FormField__Button mr-20\",onClick:otpClickHandler,children:\"Verify\"})})]})]})});}export default SignInForm;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/carret/profile/frontend/src/pages/SignInForm.js"],"names":["React","useState","Link","SignInForm","props","email","setEmail","password","setPassword","submitt","setSubmitt","otp","setOTP","handleEmail","e","target","value","handlePassword","handleOTP","handleSubmit","preventDefault","obj","emailId","pass","fetch","method","body","JSON","stringify","headers","res","json","dat","console","log","otpClickHandler","objec","oTp"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction SignInForm(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [submitt, setSubmitt] = useState(false);\r\n  const [otp, setOTP] = useState(\"\");\r\n  // const [token, setToken] = useState({});\r\n\r\n  function handleEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n  function handlePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleOTP(e) {\r\n    setOTP(e.target.value);\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setSubmitt(true);\r\n    const obj = {\r\n      emailId: email,\r\n      pass: password,\r\n    };\r\n    // console.log(obj);\r\n\r\n    const res = await fetch(\"api/auth/email\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(obj),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    const dat = await res.json();\r\n    console.log(dat);\r\n  }\r\n\r\n  async function otpClickHandler() {\r\n    const objec = {\r\n      emailId: email,\r\n      password: password,\r\n      oTp: otp,\r\n    };\r\n    // console.log(objec);\r\n    await fetch(\"api/auth/login\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(objec),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    \r\n  }\r\n\r\n  return (\r\n    <div className=\"FormCenter\">\r\n      <form className=\"FormFields\">\r\n        {!submitt && (\r\n          <>\r\n            <div className=\"FormField\">\r\n              <label className=\"FormField__Label\" htmlFor=\"email\">\r\n                E-Mail Address\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                id=\"email\"\r\n                className=\"FormField__Input\"\r\n                placeholder=\"Enter your email\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={handleEmail}\r\n              />\r\n            </div>\r\n            <div className=\"FormField\">\r\n              <label className=\"FormField__Label\" htmlFor=\"password\">\r\n                Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"password\"\r\n                className=\"FormField__Input\"\r\n                placeholder=\"Enter your password\"\r\n                name=\"password\"\r\n                value={password}\r\n                onChange={handlePassword}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"FormField\">\r\n              <button\r\n                className=\"FormField__Button mr-20\"\r\n                onClick={handleSubmit}\r\n              >\r\n                Sign In\r\n              </button>{\" \"}\r\n              <Link to=\"/\" className=\"FormField__Link\">\r\n                Create an account\r\n              </Link>\r\n            </div>\r\n          </>\r\n        )}\r\n        {submitt && (\r\n          <>\r\n            <div className=\"FormField\">\r\n              <label className=\"FormField__Label\" htmlFor=\"code\">\r\n                Enter the OTP\r\n              </label>\r\n              <input\r\n                type=\"phone\"\r\n                id=\"otp\"\r\n                className=\"FormField__Input\"\r\n                placeholder=\"Enter OTP\"\r\n                name=\"otp\"\r\n                value={otp}\r\n                onChange={handleOTP}\r\n                required={true}\r\n              />\r\n            </div>\r\n            <div className=\"FormField\">\r\n              <button\r\n                className=\"FormField__Button mr-20\"\r\n                onClick={otpClickHandler}\r\n              >\r\n                Verify\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignInForm;\r\n"]},"metadata":{},"sourceType":"module"}